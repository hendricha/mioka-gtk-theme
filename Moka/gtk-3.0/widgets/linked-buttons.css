/******************
 * linked buttons *
 *****************/

 /* Copyright 2014 Sam Hewitt.
*
* This file is part of the Orchis GTK theme.
*
* The Orchis GTK theme is free software: you can redistribute it
* and/or modify it under the terms of the GNU General Public License as
* published by the Free Software Foundation, either version 3 of the
* License, or (at your option) any later version.
*
* The Orchis GTK theme is distributed in the hope that it will be
* useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General
* Public License for more details.
*
* You should have received a copy of the GNU General Public License along
* with the Orchis GTK theme. If not, see http://www.gnu.org/licenses/.
*/


/* Set up shadows and hilights for button visual separation */
.linked .entry {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .entry:focus {
    box-shadow: inset 1px 0 @inset_dark,
                inset -1px 0 @inset_dark,
                inset 1px 2px alpha(@selection, 0.1),
                inset 1px 1px alpha(@selection, 0.1),
                inset -1px -1px alpha(@selection, 0.2);

}

.linked .entry:focus:first-child {
    box-shadow: inset -1px 0 @inset_dark,
                inset 1px 2px alpha(@selection, 0.1),
                inset 1px 1px alpha(@selection, 0.1),
                inset -1px -1px alpha(@selection, 0.2);

}

.linked .entry:focus:last-child {
    box-shadow: inset 1px 0 @inset_dark,
                inset 1px 2px alpha(@selection, 0.1),
                inset 1px 1px alpha(@selection, 0.1),
                inset -1px -1px alpha(@selection, 0.2);

}

/* Set up shadows and hilights for button visual separation */
.linked .button,
.toolbar .button.raised.linked,
.toolbar .raised.linked .button,
.inline-toolbar.toolbar .button,
.inline-toolbar.toolbar GtkToolButton > .button {
    box-shadow: inset 1px 0 @inset_light, inset -1px 0 @inset_dark;
}

.linked .button:first-child,
.toolbar .button.raised.linked:first-child,
.toolbar .raised.linked .button:first-child,
.inline-toolbar.toolbar .button:first-child,
.inline-toolbar.toolbar GtkToolButton:first-child > .button {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .button:last-child,
.toolbar .button.raised.linked:last-child,
.toolbar .raised.linked .button:last-child,
.inline-toolbar.toolbar .button:last-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button {
    box-shadow: inset 1px 0 @inset_light;
}

.linked .button:active,
.toolbar .button.raised.linked:active,
.toolbar .raised.linked .button:active,
.inline-toolbar.toolbar .button:active,
.inline-toolbar.toolbar GtkToolButton > .button:active {
    box-shadow: inset 0 1px 1px alpha(black, 0.1),
                inset 1px 0 @inset_dark;
}

.linked .button:insensitive,
.toolbar .button.raised.linked:insensitive,
.toolbar .raised.linked .button:insensitive,
.inline-toolbar.toolbar .button:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .button:backdrop,
.toolbar .button.raised.linked:backdrop,
.toolbar .raised.linked .button:backdrop,
.inline-toolbar.toolbar .button:backdrop,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop {
    box-shadow: inset -1px 0 @backdrop_border;
}

.linked .button:insensitive:backdrop,
.toolbar .button.raised.linked:insensitive:backdrop,
.toolbar .raised.linked .button:insensitive:backdrop,
.inline-toolbar.toolbar .button:insensitive:backdrop,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive:backdrop {
    box-shadow: inset -1px 0 @backdrop_insensitive_border;
}

/* remove box shadow from last-child and only-child */
.linked .button:backdrop:last-child,
.linked .button:insensitive:last-child,
.linked .button:backdrop:insensitive:last-child,
.linked .button:only-child,
.linked .button:backdrop:only-child,
.linked .button:backdrop:insensitive:only-child,
.toolbar .button.raised.linked:backdrop:last-child,
.toolbar .button.raised.linked:insensitive:last-child,
.toolbar .button.raised.linked:backdrop:insensitive:last-child,
.toolbar .button.raised.linked:backdrop:only-child,
.toolbar .button.raised.linked:backdrop:insensitive:only-child,
.toolbar .raised.linked .button:insensitive:last-child,
.toolbar .raised.linked .button:backdrop:last-child,
.toolbar .raised.linked .button:insensitive:backdrop:last-child,
.toolbar .raised.linked .button:backdrop:only-child,
.toolbar .raised.linked .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar .button:backdrop:last-child,
.inline-toolbar.toolbar .button:insensitive:last-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar .button:only-child,
.inline-toolbar.toolbar .button:backdrop:only-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop:insensitive,
.inline-toolbar.toolbar GtkToolButton:only-child > .button,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop:insensitive {
    box-shadow: none; 
}

/* remove inset from first-child and only-child active buttons */
.linked .button:only-child:active,
.toolbar .button.raised.linked:only-child:active,
.toolbar .raised.linked .button:only-child:active,
.inline-toolbar.toolbar .button:only-child:active,
.inline-toolbar.toolbar GtkToolButton > .button:only-child:active,
.linked .button:first-child:active,
.toolbar .button.raised.linked:first-child:active,
.toolbar .raised.linked .button:first-child:active,
.inline-toolbar.toolbar .button:first-child:active,
.inline-toolbar.toolbar GtkToolButton > .button:first-child:active  {
    box-shadow: inset 0 1px 1px alpha(black, 0.1);
}

/* Middle button */
.linked .entry,
.linked .button,
.linked .button:active,
.linked .button:active:hover,
.linked .button:insensitive {
    border-right-width: 0;
    border-left-width: 0;
    border-image-width: 3px 0 4px 0;
    border-radius: 0;
}

/* Leftmost button */
.linked .entry:first-child,
.linked .button:first-child,
.linked .button:active:first-child,
.linked .button:active:hover:first-child,
.linked .button:insensitive:first-child {
    border-right-width: 0;
    border-left-width: 1px;
    border-image-width: 3px 0 4px 3px;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

/* Rightmost button */
.linked .entry:last-child,
.linked .button:last-child,
.linked .button:active:last-child,
.linked .button:active:hover:last-child,
.linked .button:insensitive:last-child {
    border-right-width: 1px;
    border-left-width: 0;
    border-image-width: 3px 3px 4px 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Linked single button */
.linked .entry:only-child,
.linked .button:only-child,
.linked .button:active:only-child,
.linked .button:active:hover:only-child,
.linked .button:insensitive:only-child {
    border-right-width: 1px;
    border-left-width: 1px;
    border-image-width: 3px 3px 4px 3px;
    border-radius: 3px;
}

/* Middle button (vertical) */
.linked.vertical .entry,
.linked.vertical .button,
.linked.vertical .button:active,
.linked.vertical .button:active:hover,
.linked.vertical .button:insensitive {
    border-top-width: 0;
    border-bottom-width: 0;
    border-image-width: 0 3px;
    border-radius: 0;
}

/* Top button (vertical) */
.linked.vertical .entry:first-child,
.linked.vertical .button:first-child,
.linked.vertical .button:active:first-child,
.linked.vertical .button:active:hover:first-child,
.linked.vertical .button:insensitive:first-child {
    border-bottom-width: 0;
    border-image-width: 3px 3px 0 3px;
    border-radius: 3px 3px 0 0;
}

/* Bottom button (vertical) */
.linked.vertical .entry:last-child,
.linked.vertical .button:last-child,
.linked.vertical .button:active:last-child,
.linked.vertical .button:active:hover:last-child,
.linked.vertical .button:insensitive:last-child {
    border-top-width: 0;
    border-image-width: 0 3px 4px 3px;
    border-radius: 0 0 3px 3px;
}

/* Linked single button (vertical) */
.linked.vertical .entry:only-child,
.linked.vertical .button:only-child,
.linked.vertical .button:active:only-child,
.linked.vertical .button:active:hover:only-child,
.linked.vertical .button:insensitive:only-child {
    border-top-width: 1px;
    border-bottom-width: 1px;
    border-image-width: 3px 3px 4px 3px;
    border-radius: 3px;
}

/* Linked button shadows (vertical) */
.linked.vertical .button,
.inline-toolbar.toolbar.vertical .button,
.inline-toolbar.toolbar.vertical GtkToolButton > .button {
    box-shadow: inset 0 1px @inset_light, inset 0 -1px @inset_dark;
}

.linked.vertical .button:first-child,
.inline-toolbar.toolbar.vertical .button:first-child,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button {
    box-shadow: inset 0 -1px @inset_dark;
}

.linked.vertical .button:last-child,
.inline-toolbar.toolbar.vertical .button:last-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button {
    box-shadow: inset 0 -1px @inset_light;
}

.linked.vertical .button:active,
.inline-toolbar.toolbar.vertical .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:active {
    box-shadow: inset 0 1px @inset_dark, inset 0 -1px @inset_dark;
}

.linked.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive {
    box-shadow: inset 0 -1px @inset_dark;
}

.linked.vertical .button:backdrop,
.inline-toolbar.toolbar.vertical .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop {
    box-shadow: inset 0 -1px @backdrop_border;
}

.linked.vertical .button:insensitive:backdrop,
.inline-toolbar.toolbar.vertical .button:insensitive:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive:backdrop {
    box-shadow: inset 0 -1px @backdrop_insensitive_border;
}

.linked.vertical .button:only-child,
.linked.vertical .button:backdrop:last-child,
.linked.vertical .button:insensitive:last-child,
.linked.vertical .button:insensitive:backdrop:last-child,
.linked.vertical .button:backdrop:only-child,
.linked.vertical .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:last-child,
.inline-toolbar.toolbar.vertical .button:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop:insensitive {
    box-shadow: none;
}

/* remove shadows from linked menu buttons */
.linked GtkMenuButton.menu-button:active,
.toolbar GtkMenuButton.menu-button.raised.linked:active,
.toolbar .raised.linked GtkMenuButton.menu-button:active,
.inline-toolbar.toolbar GtkMenuButton.menu-button:active,
.inline-toolbar.toolbar GtkToolButton > GtkMenuButton.menu-button:active {
    box-shadow: none;
}

/* Linked buttons on primary toolbars */

/* Middle button */
.primary-toolbar .button.raised.linked,
.primary-toolbar .button.raised.linked:active,
.primary-toolbar .button.raised.linked:insensitive,
.primary-toolbar .button.raised.linked:backdrop,
.primary-toolbar .linked .entry,
.primary-toolbar .linked .button,
.primary-toolbar .linked .button:active,
.primary-toolbar .linked .button:insensitive,
.primary-toolbar .linked .button:backdrop,
.inline-toolbar.toolbar .button,
.inline-toolbar.toolbar .button:active,
.inline-toolbar.toolbar .button:insensitive,
.inline-toolbar.toolbar .button:backdrop,
.inline-toolbar.toolbar .button:backdrop:active,
.inline-toolbar.toolbar .button:backdrop:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button,
.inline-toolbar.toolbar GtkToolButton > .button:active,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop:insensitive {
    border-right-width: 0;
    border-left-width: 0;
    border-image-width: 4px 0 4px 0;
    border-radius: 0;
}

/* Leftmost button */
.primary-toolbar .button.raised.linked:first-child,
.primary-toolbar .button.raised.linked:active:first-child,
.primary-toolbar .button.raised.linked:insensitive:first-child,
.primary-toolbar .button.raised.linked:backdrop:first-child,
.primary-toolbar .linked .entry:first-child,
.primary-toolbar .linked .button:first-child,
.primary-toolbar .linked .button:active:first-child,
.primary-toolbar .linked .button:insensitive:first-child,
.primary-toolbar .linked .button:backdrop:first-child,
.inline-toolbar.toolbar .button:first-child,
.inline-toolbar.toolbar .button:active:first-child,
.inline-toolbar.toolbar .button:insensitive:first-child,
.inline-toolbar.toolbar .button:backdrop:first-child,
.inline-toolbar.toolbar .button:backdrop:active:first-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:first-child,
.inline-toolbar.toolbar GtkToolButton:first-child > .button,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:backdrop:insensitive {
    border-left-width: 2px;
    border-right-width: 0;
    border-image-width: 4px 0 4px 4px;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

/* Rightmost button */
.primary-toolbar .button.raised.linked:last-child,
.primary-toolbar .button.raised.linked:active:last-child,
.primary-toolbar .button.raised.linked:insensitive:last-child,
.primary-toolbar .button.raised.linked:backdrop:last-child,
.primary-toolbar .linked .entry:last-child,
.primary-toolbar .linked .button:last-child,
.primary-toolbar .linked .button:active:last-child,
.primary-toolbar .linked .button:insensitive:last-child,
.primary-toolbar .linked .button:backdrop:last-child,
.inline-toolbar.toolbar .button:last-child,
.inline-toolbar.toolbar .button:active:last-child,
.inline-toolbar.toolbar .button:insensitive:last-child,
.inline-toolbar.toolbar .button:backdrop:last-child,
.inline-toolbar.toolbar .button:backdrop:active:last-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop:insensitive {
    border-left-width: 0;
    border-right-width: 2px;
    border-image-width: 4px 4px 4px 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Single button */
.inline-toolbar.toolbar .button:only-child,
.inline-toolbar.toolbar .button:active:only-child,
.inline-toolbar.toolbar .button:insensitive:only-child,
.inline-toolbar.toolbar .button:backdrop:only-child,
.inline-toolbar.toolbar .button:backdrop:active:only-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar GtkToolButton:only-child > .button,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop:insensitive {
    border-right-width: 2px;
    border-left-width: 2px;
    border-image-width: 4px;
    border-radius: 3px;
}

/* Special-case GtkMenuToolButton, since it's a GtkToolButton, but it
 * has a box inside to pack the button and the actual menu */
.inline-toolbar.toolbar GtkMenuToolButton .button:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:active:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:insensitive:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:insensitive:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:active:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:insensitive:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:insensitive:last-child {
    border-right-width: 0;
    border-left-width: 0;
    border-image-width: 4px 0 4px 0;
    border-radius: 0;
}

.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:active:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:insensitive:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:backdrop:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:backdrop:insensitive:first-child {
    border-left-width: 2px;
    border-right-width: 0;
    border-image-width: 4px 0 4px 4px;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:active:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:insensitive:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:backdrop:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:backdrop:insensitive:last-child {
    border-left-width: 0;
    border-right-width: 2px;
    border-image-width: 4px 4px 4px 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Vertical inline toolbars */

/* Middle button */
.inline-toolbar.toolbar.vertical .button,
.inline-toolbar.toolbar.vertical .button:active,
.inline-toolbar.toolbar.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical .button:backdrop,
.inline-toolbar.toolbar.vertical .button:backdrop:active,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop:insensitive {
    border-bottom-width: 0;
    border-top-width: 0;
    border-image-width: 0 3px 0 3px;
    border-radius: 0;
}

/* Topmost button */
.inline-toolbar.toolbar.vertical .button:first-child,
.inline-toolbar.toolbar.vertical .button:active:first-child,
.inline-toolbar.toolbar.vertical .button:insensitive:first-child,
.inline-toolbar.toolbar.vertical .button:backdrop:first-child,
.inline-toolbar.toolbar.vertical .button:backdrop:active:first-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:first-child,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:backdrop:insensitive {
    border-width: 1px 1px 0 1px;
    border-image-width: 3px 3px 0 3px;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

/* Bottommost button */
.inline-toolbar.toolbar.vertical .button:last-child,
.inline-toolbar.toolbar.vertical .button:active:last-child,
.inline-toolbar.toolbar.vertical .button:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:active:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop:insensitive {
    border-width: 0 1px 2px 1px;
    border-image-width: 0 3px 4px 3px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

/* Single button */
.inline-toolbar.toolbar.vertical .button:only-child,
.inline-toolbar.toolbar.vertical .button:active:only-child,
.inline-toolbar.toolbar.vertical .button:insensitive:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:active:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop:insensitive {
    border-top-width: 1px;
    border-bottom-width: 2px;
    border-image-width: 3px 3px 3px 4px;
    border-radius: 3px;
}

*:link,
*:visited {
  color: @link;
}

GtkLinkButton.button,
GtkLinkButton.button:active {
    text-shadow: none;
}

.button .separator { 
    color: shade(@internal_element, 1.30);
}
/* Set up shadows and hilights for button visual separation */
.linked .entry {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .entry:focus {
    box-shadow: inset 1px 0 @inset_dark,
                inset -1px 0 @inset_dark,
                inset 1px 2px alpha(@selection, 0.1),
                inset 1px 1px alpha(@selection, 0.1),
                inset -1px -1px alpha(@selection, 0.2);

}

.linked .entry:focus:first-child {
    box-shadow: inset -1px 0 @inset_dark,
                inset 1px 2px alpha(@selection, 0.1),
                inset 1px 1px alpha(@selection, 0.1),
                inset -1px -1px alpha(@selection, 0.2);

}

.linked .entry:focus:last-child {
    box-shadow: inset 1px 0 @inset_dark,
                inset 1px 2px alpha(@selection, 0.1),
                inset 1px 1px alpha(@selection, 0.1),
                inset -1px -1px alpha(@selection, 0.2);

}

/* Set up shadows and hilights for button visual separation */
.linked .button,
.toolbar .button.raised.linked,
.toolbar .raised.linked .button,
.inline-toolbar.toolbar .button,
.inline-toolbar.toolbar GtkToolButton > .button {
    box-shadow: inset 1px 0 @inset_light, inset -1px 0 @inset_dark;
}

.linked .button:first-child,
.toolbar .button.raised.linked:first-child,
.toolbar .raised.linked .button:first-child,
.inline-toolbar.toolbar .button:first-child,
.inline-toolbar.toolbar GtkToolButton:first-child > .button {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .button:last-child,
.toolbar .button.raised.linked:last-child,
.toolbar .raised.linked .button:last-child,
.inline-toolbar.toolbar .button:last-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button {
    box-shadow: inset 1px 0 @inset_light;
}

.linked .button:active,
.toolbar .button.raised.linked:active,
.toolbar .raised.linked .button:active,
.inline-toolbar.toolbar .button:active,
.inline-toolbar.toolbar GtkToolButton > .button:active {
    box-shadow: inset 0 1px 1px alpha(black, 0.1),
                inset 1px 0 @inset_dark;
}

.linked .button:insensitive,
.toolbar .button.raised.linked:insensitive,
.toolbar .raised.linked .button:insensitive,
.inline-toolbar.toolbar .button:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .button:backdrop,
.toolbar .button.raised.linked:backdrop,
.toolbar .raised.linked .button:backdrop,
.inline-toolbar.toolbar .button:backdrop,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop {
    box-shadow: inset -1px 0 @backdrop_border;
}

.linked .button:insensitive:backdrop,
.toolbar .button.raised.linked:insensitive:backdrop,
.toolbar .raised.linked .button:insensitive:backdrop,
.inline-toolbar.toolbar .button:insensitive:backdrop,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive:backdrop {
    box-shadow: inset -1px 0 @backdrop_insensitive_border;
}

/* remove box shadow from last-child and only-child */
.linked .button:backdrop:last-child,
.linked .button:insensitive:last-child,
.linked .button:backdrop:insensitive:last-child,
.linked .button:only-child,
.linked .button:backdrop:only-child,
.linked .button:backdrop:insensitive:only-child,
.toolbar .button.raised.linked:backdrop:last-child,
.toolbar .button.raised.linked:insensitive:last-child,
.toolbar .button.raised.linked:backdrop:insensitive:last-child,
.toolbar .button.raised.linked:backdrop:only-child,
.toolbar .button.raised.linked:backdrop:insensitive:only-child,
.toolbar .raised.linked .button:insensitive:last-child,
.toolbar .raised.linked .button:backdrop:last-child,
.toolbar .raised.linked .button:insensitive:backdrop:last-child,
.toolbar .raised.linked .button:backdrop:only-child,
.toolbar .raised.linked .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar .button:backdrop:last-child,
.inline-toolbar.toolbar .button:insensitive:last-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar .button:only-child,
.inline-toolbar.toolbar .button:backdrop:only-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop:insensitive,
.inline-toolbar.toolbar GtkToolButton:only-child > .button,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop:insensitive {
    box-shadow: none; 
}

/* remove inset from first-child and only-child active buttons */
.linked .button:only-child:active,
.toolbar .button.raised.linked:only-child:active,
.toolbar .raised.linked .button:only-child:active,
.inline-toolbar.toolbar .button:only-child:active,
.inline-toolbar.toolbar GtkToolButton > .button:only-child:active,
.linked .button:first-child:active,
.toolbar .button.raised.linked:first-child:active,
.toolbar .raised.linked .button:first-child:active,
.inline-toolbar.toolbar .button:first-child:active,
.inline-toolbar.toolbar GtkToolButton > .button:first-child:active  {
    box-shadow: inset 0 1px 1px alpha(black, 0.1);
}

/* Middle button */
.linked .entry,
.linked .button,
.linked .button:active,
.linked .button:active:hover,
.linked .button:insensitive {
    border-right-width: 0;
    border-left-width: 0;
    border-image-width: 3px 0 4px 0;
    border-radius: 0;
}

/* Leftmost button */
.linked .entry:first-child,
.linked .button:first-child,
.linked .button:active:first-child,
.linked .button:active:hover:first-child,
.linked .button:insensitive:first-child {
    border-right-width: 0;
    border-left-width: 1px;
    border-image-width: 3px 0 4px 3px;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

/* Rightmost button */
.linked .entry:last-child,
.linked .button:last-child,
.linked .button:active:last-child,
.linked .button:active:hover:last-child,
.linked .button:insensitive:last-child {
    border-right-width: 1px;
    border-left-width: 0;
    border-image-width: 3px 3px 4px 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Linked single button */
.linked .entry:only-child,
.linked .button:only-child,
.linked .button:active:only-child,
.linked .button:active:hover:only-child,
.linked .button:insensitive:only-child {
    border-right-width: 1px;
    border-left-width: 1px;
    border-image-width: 3px 3px 4px 3px;
    border-radius: 3px;
}

/* Middle button (vertical) */
.linked.vertical .entry,
.linked.vertical .button,
.linked.vertical .button:active,
.linked.vertical .button:active:hover,
.linked.vertical .button:insensitive {
    border-top-width: 0;
    border-bottom-width: 0;
    border-image-width: 0 3px;
    border-radius: 0;
}

/* Top button (vertical) */
.linked.vertical .entry:first-child,
.linked.vertical .button:first-child,
.linked.vertical .button:active:first-child,
.linked.vertical .button:active:hover:first-child,
.linked.vertical .button:insensitive:first-child {
    border-bottom-width: 0;
    border-image-width: 3px 3px 0 3px;
    border-radius: 3px 3px 0 0;
}

/* Bottom button (vertical) */
.linked.vertical .entry:last-child,
.linked.vertical .button:last-child,
.linked.vertical .button:active:last-child,
.linked.vertical .button:active:hover:last-child,
.linked.vertical .button:insensitive:last-child {
    border-top-width: 0;
    border-image-width: 0 3px 4px 3px;
    border-radius: 0 0 3px 3px;
}

/* Linked single button (vertical) */
.linked.vertical .entry:only-child,
.linked.vertical .button:only-child,
.linked.vertical .button:active:only-child,
.linked.vertical .button:active:hover:only-child,
.linked.vertical .button:insensitive:only-child {
    border-top-width: 1px;
    border-bottom-width: 1px;
    border-image-width: 3px 3px 4px 3px;
    border-radius: 3px;
}

/* Linked button shadows (vertical) */
.linked.vertical .button,
.inline-toolbar.toolbar.vertical .button,
.inline-toolbar.toolbar.vertical GtkToolButton > .button {
    box-shadow: inset 0 1px @inset_light, inset 0 -1px @inset_dark;
}

.linked.vertical .button:first-child,
.inline-toolbar.toolbar.vertical .button:first-child,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button {
    box-shadow: inset 0 -1px @inset_dark;
}

.linked.vertical .button:last-child,
.inline-toolbar.toolbar.vertical .button:last-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button {
    box-shadow: inset 0 -1px @inset_light;
}

.linked.vertical .button:active,
.inline-toolbar.toolbar.vertical .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:active {
    box-shadow: inset 0 1px @inset_dark, inset 0 -1px @inset_dark;
}

.linked.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive {
    box-shadow: inset 0 -1px @inset_dark;
}

.linked.vertical .button:backdrop,
.inline-toolbar.toolbar.vertical .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop {
    box-shadow: inset 0 -1px @backdrop_border;
}

.linked.vertical .button:insensitive:backdrop,
.inline-toolbar.toolbar.vertical .button:insensitive:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive:backdrop {
    box-shadow: inset 0 -1px @backdrop_insensitive_border;
}

.linked.vertical .button:only-child,
.linked.vertical .button:backdrop:last-child,
.linked.vertical .button:insensitive:last-child,
.linked.vertical .button:insensitive:backdrop:last-child,
.linked.vertical .button:backdrop:only-child,
.linked.vertical .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:last-child,
.inline-toolbar.toolbar.vertical .button:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop:insensitive {
    box-shadow: none;
}

/* remove shadows from linked menu buttons */
.linked GtkMenuButton.menu-button:active,
.toolbar GtkMenuButton.menu-button.raised.linked:active,
.toolbar .raised.linked GtkMenuButton.menu-button:active,
.inline-toolbar.toolbar GtkMenuButton.menu-button:active,
.inline-toolbar.toolbar GtkToolButton > GtkMenuButton.menu-button:active {
    box-shadow: none;
}

/* Linked buttons on primary toolbars */

/* Middle button */
.primary-toolbar .button.raised.linked,
.primary-toolbar .button.raised.linked:active,
.primary-toolbar .button.raised.linked:insensitive,
.primary-toolbar .button.raised.linked:backdrop,
.primary-toolbar .linked .entry,
.primary-toolbar .linked .button,
.primary-toolbar .linked .button:active,
.primary-toolbar .linked .button:insensitive,
.primary-toolbar .linked .button:backdrop,
.inline-toolbar.toolbar .button,
.inline-toolbar.toolbar .button:active,
.inline-toolbar.toolbar .button:insensitive,
.inline-toolbar.toolbar .button:backdrop,
.inline-toolbar.toolbar .button:backdrop:active,
.inline-toolbar.toolbar .button:backdrop:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button,
.inline-toolbar.toolbar GtkToolButton > .button:active,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton > .button:backdrop:insensitive {
    border-right-width: 0;
    border-left-width: 0;
    border-image-width: 4px 0 4px 0;
    border-radius: 0;
}

/* Leftmost button */
.primary-toolbar .button.raised.linked:first-child,
.primary-toolbar .button.raised.linked:active:first-child,
.primary-toolbar .button.raised.linked:insensitive:first-child,
.primary-toolbar .button.raised.linked:backdrop:first-child,
.primary-toolbar .linked .entry:first-child,
.primary-toolbar .linked .button:first-child,
.primary-toolbar .linked .button:active:first-child,
.primary-toolbar .linked .button:insensitive:first-child,
.primary-toolbar .linked .button:backdrop:first-child,
.inline-toolbar.toolbar .button:first-child,
.inline-toolbar.toolbar .button:active:first-child,
.inline-toolbar.toolbar .button:insensitive:first-child,
.inline-toolbar.toolbar .button:backdrop:first-child,
.inline-toolbar.toolbar .button:backdrop:active:first-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:first-child,
.inline-toolbar.toolbar GtkToolButton:first-child > .button,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton:first-child > .button:backdrop:insensitive {
    border-left-width: 2px;
    border-right-width: 0;
    border-image-width: 4px 0 4px 4px;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

/* Rightmost button */
.primary-toolbar .button.raised.linked:last-child,
.primary-toolbar .button.raised.linked:active:last-child,
.primary-toolbar .button.raised.linked:insensitive:last-child,
.primary-toolbar .button.raised.linked:backdrop:last-child,
.primary-toolbar .linked .entry:last-child,
.primary-toolbar .linked .button:last-child,
.primary-toolbar .linked .button:active:last-child,
.primary-toolbar .linked .button:insensitive:last-child,
.primary-toolbar .linked .button:backdrop:last-child,
.inline-toolbar.toolbar .button:last-child,
.inline-toolbar.toolbar .button:active:last-child,
.inline-toolbar.toolbar .button:insensitive:last-child,
.inline-toolbar.toolbar .button:backdrop:last-child,
.inline-toolbar.toolbar .button:backdrop:active:last-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:backdrop:insensitive {
    border-left-width: 0;
    border-right-width: 2px;
    border-image-width: 4px 4px 4px 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Single button */
.inline-toolbar.toolbar .button:only-child,
.inline-toolbar.toolbar .button:active:only-child,
.inline-toolbar.toolbar .button:insensitive:only-child,
.inline-toolbar.toolbar .button:backdrop:only-child,
.inline-toolbar.toolbar .button:backdrop:active:only-child,
.inline-toolbar.toolbar .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar GtkToolButton:only-child > .button,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop:active,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:backdrop:insensitive {
    border-right-width: 2px;
    border-left-width: 2px;
    border-image-width: 4px;
    border-radius: 3px;
}

/* Special-case GtkMenuToolButton, since it's a GtkToolButton, but it
 * has a box inside to pack the button and the actual menu */
.inline-toolbar.toolbar GtkMenuToolButton .button:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:active:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:insensitive:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:insensitive:first-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:active:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:insensitive:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:last-child,
.inline-toolbar.toolbar GtkMenuToolButton .button:backdrop:insensitive:last-child {
    border-right-width: 0;
    border-left-width: 0;
    border-image-width: 4px 0 4px 0;
    border-radius: 0;
}

.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:active:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:insensitive:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:backdrop:first-child,
.inline-toolbar.toolbar GtkMenuToolButton:first-child .button:backdrop:insensitive:first-child {
    border-left-width: 2px;
    border-right-width: 0;
    border-image-width: 4px 0 4px 4px;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:active:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:insensitive:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:backdrop:last-child,
.inline-toolbar.toolbar GtkMenuToolButton:last-child .button:backdrop:insensitive:last-child {
    border-left-width: 0;
    border-right-width: 2px;
    border-image-width: 4px 4px 4px 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* Vertical inline toolbars */

/* Middle button */
.inline-toolbar.toolbar.vertical .button,
.inline-toolbar.toolbar.vertical .button:active,
.inline-toolbar.toolbar.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical .button:backdrop,
.inline-toolbar.toolbar.vertical .button:backdrop:active,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:backdrop:insensitive {
    border-bottom-width: 0;
    border-top-width: 0;
    border-image-width: 0 3px 0 3px;
    border-radius: 0;
}

/* Topmost button */
.inline-toolbar.toolbar.vertical .button:first-child,
.inline-toolbar.toolbar.vertical .button:active:first-child,
.inline-toolbar.toolbar.vertical .button:insensitive:first-child,
.inline-toolbar.toolbar.vertical .button:backdrop:first-child,
.inline-toolbar.toolbar.vertical .button:backdrop:active:first-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:first-child,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton:first-child > .button:backdrop:insensitive {
    border-width: 1px 1px 0 1px;
    border-image-width: 3px 3px 0 3px;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

/* Bottommost button */
.inline-toolbar.toolbar.vertical .button:last-child,
.inline-toolbar.toolbar.vertical .button:active:last-child,
.inline-toolbar.toolbar.vertical .button:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:active:last-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:last-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:backdrop:insensitive {
    border-width: 0 1px 2px 1px;
    border-image-width: 0 3px 4px 3px;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

/* Single button */
.inline-toolbar.toolbar.vertical .button:only-child,
.inline-toolbar.toolbar.vertical .button:active:only-child,
.inline-toolbar.toolbar.vertical .button:insensitive:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:active:only-child,
.inline-toolbar.toolbar.vertical .button:backdrop:insensitive:only-child,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop:active,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:backdrop:insensitive {
    border-top-width: 1px;
    border-bottom-width: 2px;
    border-image-width: 3px 3px 3px 4px;
    border-radius: 3px;
}

*:link,
*:visited {
  color: @link;
}

GtkLinkButton.button,
GtkLinkButton.button:active {
    text-shadow: none;
}

.button .separator { 
    color: shade(@internal_element, 1.30);
}
/* Set up shadows and hilights for button visual separation */
.linked .entry {
    box-shadow: inset -1px 0 @inset_dark;
}

.linked .entry:focus {
    box-shadow: inset 1px 0 @inset_dark,
                inset -1px 0 @inset_dark,
                inset 1px 2px alpha(@selection_color, 0.1),
                inset 1px 1px alpha(@selection_color, 0.1),
                inset -1px -1px alpha(@selection_color, 0.2);

}

.linked .entry:focus:first-child {
    box-shadow: inset -1px 0 @inset_dark,
                inset 1px 2px alpha(@selection_color, 0.1),
                inset 1px 1px alpha(@selection_color, 0.1),
                inset -1px -1px alpha(@selection_color, 0.2);

}

.linked .entry:focus:last-child {
    box-shadow: inset 1px 0 @inset_dark,
                inset 1px 2px alpha(@selection_color, 0.1),
                inset 1px 1px alpha(@selection_color, 0.1),
                inset -1px -1px alpha(@selection_color, 0.2);

}


/* set up shadows for visual separation */
.linked .button,
.inline-toolbar.toolbar .button,
.inline-toolbar.toolbar GtkToolButton .button,
.inline-toolbar.toolbar GtkToolButton > .button {
    box-shadow: inset -1px 0 shade(@bg_color, 0.9);
}

.linked .button:active,
.inline-toolbar.toolbar .button:active,
.inline-toolbar.toolbar GtkToolButton .button:active,
.inline-toolbar.toolbar GtkToolButton > .button:active {
    box-shadow: inset -1px 0 shade(@bg_color, 0.9),
                inset 1px 0 alpha(black, 0.07),
                inset 0 1px alpha(black, 0.08),
                inset 0 -1px alpha(black, 0.05);
}

.linked .button:insensitive,
.inline-toolbar.toolbar .button:insensitive,
.inline-toolbar.toolbar GtkToolButton .button:insensitive,
.inline-toolbar.toolbar GtkToolButton > .button:insensitive {
    box-shadow: inset -1px 0 shade(@bg_color, 0.9);
}

/* remove box shadow from last-child and only-child */
.linked .button:last-child,
.linked .button:only-child,
.linked .button:insensitive:last-child,
.linked .button:insensitive:only-child,
.linked .button:active:insensitive:last-child,
.linked .button:active:insensitive:only-child,
.inline-toolbar.toolbar .button:last-child,
.inline-toolbar.toolbar .button:only-child,
.inline-toolbar.toolbar .button:insensitive:last-child,
.inline-toolbar.toolbar .button:insensitive:only-child,
.inline-toolbar.toolbar .button:active:insensitive:last-child,
.inline-toolbar.toolbar .button:active:insensitive:only-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button,
.inline-toolbar.toolbar GtkToolButton:only-child > .button,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:insensitive,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:active:insensitive,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:active:insensitive {
    box-shadow: none;
}

/* add back the inset shadow effect */
.linked .button:active:last-child,
.linked .button:active:only-child,
.inline-toolbar.toolbar .button:active:last-child,
.inline-toolbar.toolbar .button:active:only-child,
.inline-toolbar.toolbar GtkToolButton:last-child > .button:active,
.inline-toolbar.toolbar GtkToolButton:only-child > .button:active {
    box-shadow: inset 1px 0 alpha(black, 0.07),
                inset 0 1px alpha(black, 0.08),
                inset -1px 0 alpha(black, 0.07);
}

/* middle button */
.linked .entry,
.linked .button,
.linked .button:active,
.linked .button:active:hover,
.linked .button:insensitive,
.inline-toolbar.toolbar .button,
.inline-toolbar.toolbar .button:active,
.inline-toolbar.toolbar .button:insensitive,
.inline-toolbar.toolbar GtkToolButton .button,
.inline-toolbar.toolbar GtkToolButton .button:active,
.inline-toolbar.toolbar GtkToolButton .button:insensitive {
    border-width: 1px;
    border-radius: 0;
    border-right-width: 0;
    border-left-width: 0;
}

/*leftmost button */
.linked .entry:first-child,
.linked .button:first-child,
.linked .button:active:first-child,
.linked .button:active:hover:first-child,
.linked .button:insensitive:first-child,
.inline-toolbar.toolbar .button:first-child,
.inline-toolbar.toolbar .button:active:first-child,
.inline-toolbar.toolbar .button:insensitive:first-child,
.inline-toolbar.toolbar GtkToolButton:first-child .button,
.inline-toolbar.toolbar GtkToolButton:first-child .button:active,
.inline-toolbar.toolbar GtkToolButton:first-child .button:insensitive {
    border-width: 1px;
    border-radius: 6px;
    border-right-width: 0px;
    border-bottom-right-radius: 0px;
    border-top-right-radius: 0px;
}

/* rightmost button */
.linked .entry:last-child,
.linked .button:last-child,
.linked .button:active:last-child,
.linked .button:active:hover:last-child,
.linked .button:insensitive:last-child,
.inline-toolbar.toolbar .button:last-child,
.inline-toolbar.toolbar .button:active:last-child,
.inline-toolbar.toolbar .button:insensitive:last-child,
.inline-toolbar.toolbar GtkToolButton:last-child .button,
.inline-toolbar.toolbar GtkToolButton:last-child .button:active,
.inline-toolbar.toolbar GtkToolButton:last-child .button:insensitive {
    border-width: 1px;
    border-radius: 6px;
    border-left-width: 0px;
    border-bottom-left-radius: 0px;
    border-top-left-radius: 0px;
}

/* linked single button */
.linked .entry:only-child,
.linked .button:only-child,
.linked .button:active:only-child,
.linked .button:active:hover:only-child,
.linked .button:insensitive:only-child,
.inline-toolbar.toolbar .button:only-child,
.inline-toolbar.toolbar .button:active:only-child,
.inline-toolbar.toolbar .button:insensitive:only-child,
.inline-toolbar.toolbar GtkToolButton:only-child .button,
.inline-toolbar.toolbar GtkToolButton:only-child .button:active,
.inline-toolbar.toolbar GtkToolButton:only-child .button:insensitive {
    border-width: 1px;
    border-radius: 6px;
}

/* linked button shadows (vertical) */
.linked.vertical .button,
.inline-toolbar.toolbar.vertical .button,
.inline-toolbar.toolbar.vertical GtkToolButton > .button {
    box-shadow: inset 0 -1px shade(@bg_color, 0.9);
}

.linked.vertical .button:active,
.inline-toolbar.toolbar.vertical .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:active {
    box-shadow: inset 0 -1px shade(@bg_color, 0.9),
                inset 1px 0 alpha(black, 0.07),
                inset 0 1px alpha(black, 0.08),
                inset -1px 0 alpha(black, 0.07);
}

.linked.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton > .button:insensitive {
    box-shadow: inset 0 -1px shade(@bg_color, 0.9);
}

/* remove box shadow from last-child and only-child */
.linked.vertical .button:last-child,
.linked.vertical .button:only-child,
.linked.vertical .button:insensitive:last-child,
.linked.vertical .button:insensitive:only-child,
.linked.vertical .button:active:insensitive:last-child,
.linked.vertical .button:active:insensitive:only-child,
.inline-toolbar.toolbar.vertical .button:last-child,
.inline-toolbar.toolbar.vertical .button:only-child,
.inline-toolbar.toolbar.vertical .button:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:insensitive:only-child,
.inline-toolbar.toolbar.vertical .button:active:insensitive:last-child,
.inline-toolbar.toolbar.vertical .button:active:insensitive:only-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:active:insensitive,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:active:insensitive {
    box-shadow: none;
}

/* add back the inset shadow effect */
.linked.vertical .button:active:last-child,
.linked.vertical .button:active:only-child,
.inline-toolbar.toolbar.vertical .button:active:last-child,
.inline-toolbar.toolbar.vertical .button:active:only-child,
.inline-toolbar.toolbar.vertical GtkToolButton:last-child > .button:active,
.inline-toolbar.toolbar.vertical GtkToolButton:only-child > .button:active {
    box-shadow: inset 1px 0 alpha(black, 0.07),
                inset 0 1px alpha(black, 0.08),
                inset -1px 0 alpha(black, 0.07);
}

/* middle button (vertical) */
.linked.vertical .entry,
.linked.vertical .button,
.linked.vertical .button:active,
.linked.vertical .button:active:hover,
.linked.vertical .button:insensitive {
    border-width: 1px;
    border-radius: 0;
    border-top-width: 0;
    border-bottom-width: 0;
}

/* top button (vertical) */
.linked.vertical .entry:first-child,
.linked.vertical .button:first-child,
.linked.vertical .button:active:first-child,
.linked.vertical .button:active:hover:first-child,
.linked.vertical .button:insensitive:first-child {
    border-width: 1px;
    border-radius: 6px;
    border-bottom-width: 0;
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
}

/* bottom button (vertical) */
.linked.vertical .entry:last-child,
.linked.vertical .button:last-child,
.linked.vertical .button:active:last-child,
.linked.vertical .button:active:hover:last-child,
.linked.vertical .button:insensitive:last-child {
    border-width: 1px;
    border-radius: 6px;
    border-top-width: 0;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

/* linked single button (vertical) */
.linked.vertical .entry:only-child,
.linked.vertical .button:only-child,
.linked.vertical .button:active:only-child,
.linked.vertical .button:active:hover:only-child,
.linked.vertical .button:insensitive:only-child {
    border-width: 1px;
    border-radius: 6px;
}

/* linked toolbar buttons */
.primary-toolbar .button.raised.linked,
.primary-toolbar .raised.linked .button,
.toolbar .button.raised.linked,
.toolbar .raised.linked .button,
.header-bar .button.raised.linked,
.header-bar .raised.linked .button {
    box-shadow: inset -1px 0 shade(@toolbar_bg_color, 0.9);
}

.primary-toolbar .button.raised.linked:active,
.primary-toolbar .raised.linked .button:active,
.toolbar .button.raised.linked:active,
.toolbar .raised.linked .button:active,
.header-bar .button.raised.linked:active,
.header-bar .raised.linked .button:active {
    box-shadow: inset -1px 0 shade(@toolbar_bg_color, 0.9),
                inset 1px 0 alpha(black, 0.07),
                inset 0 1px alpha(black, 0.08),
                inset 0 -1px alpha(black, 0.05);
}

.primary-toolbar .button.raised.linked:insensitive,
.primary-toolbar .raised.linked .button:insensitive,
.toolbar .button.raised.linked:insensitive,
.toolbar .raised.linked .button:insensitive,
.header-bar .button.raised.linked:insensitive,
.header-bar .raised.linked .button:insensitive {
    box-shadow: inset -1px 0 shade(@toolbar_bg_color, 0.9);
}

/* remove box shadow from last-child and only-child */
.primary-toolbar .button.raised.linked:last-child,
.primary-toolbar .button.raised.linked:only-child,
.primary-toolbar .button:insensitive.raised.linked:last-child,
.primary-toolbar .button:insensitive.raised.linked:only-child,
.primary-toolbar .button:active:insensitive.raised.linked:last-child,
.primary-toolbar .button:active:insensitive.raised.linked:only-child,
.primary-toolbar .raised.linked .button:last-child,
.primary-toolbar .raised.linked .button:only-child,
.primary-toolbar .raised.linked .button:insensitive:last-child,
.primary-toolbar .raised.linked .button:insensitive:only-child,
.primary-toolbar .raised.linked .button:active:insensitive:last-child,
.primary-toolbar .raised.linked .button:active:insensitive:only-child,
.toolbar .button.raised.linked:last-child,
.toolbar .button.raised.linked:only-child,
.toolbar .button:insensitive.raised.linked:last-child,
.toolbar .button:insensitive.raised.linked:only-child,
.toolbar .button:active:insensitive.raised.linked:last-child,
.toolbar .button:active:insensitive.raised.linked:only-child,
.toolbar .raised.linked .button:last-child,
.toolbar .raised.linked .button:only-child,
.toolbar .raised.linked .button:insensitive:last-child,
.toolbar .raised.linked .button:insensitive:only-child,
.toolbar .raised.linked .button:active:insensitive:last-child,
.toolbar .raised.linked .button:active:insensitive:only-child,
.header-bar .button.raised.linked:last-child,
.header-bar .button.raised.linked:only-child,
.header-bar .button:insensitive.raised.linked:last-child,
.header-bar .button:insensitive.raised.linked:only-child,
.header-bar .button:active:insensitive.raised.linked:last-child,
.header-bar .button:active:insensitive.raised.linked:only-child,
.header-bar .raised.linked .button:last-child,
.header-bar .raised.linked .button:only-child,
.header-bar .raised.linked .button:insensitive:last-child,
.header-bar .raised.linked .button:insensitive:only-child,
.header-bar .raised.linked .button:active:insensitive:last-child,
.header-bar .raised.linked .button:active:insensitive:only-child {
    box-shadow: none;
}

/* add back the inset shadow effect */
.primary-toolbar .button:active.raised.linked:last-child,
.primary-toolbar .button:active.raised.linked:only-child,
.primary-toolbar .raised.linked .button:active:last-child,
.primary-toolbar .raised.linked .button:active:only-child,
.toolbar .raised.linked .button:active:last-child,
.toolbar .raised.linked .button:active:only-child,
.toolbar .button:active.raised.linked:last-child,
.toolbar .button:active.raised.linked:only-child,
.header-bar .button:active.raised.linked:last-child,
.header-bar .button:active.raised.linked:only-child,
.header-bar .raised.linked .button:active:last-child,
.header-bar .raised.linked .button:active:only-child {
    box-shadow: inset 1px 0 alpha(black, 0.07),
                inset 0 1px alpha(black, 0.08),
                inset -1px 0 alpha(black, 0.07);
}

/* middle button */
.primary-toolbar .button.raised.linked,
.primary-toolbar .button.raised.linked:active,
.primary-toolbar .button.raised.linked:insensitive,
.primary-toolbar .raised.linked .button,
.primary-toolbar .raised.linked .button:active,
.primary-toolbar .raised.linked .button:insensitive,
.toolbar .button.raised.linked,
.toolbar .button.raised.linked:active,
.toolbar .button.raised.linked:insensitive,
.toolbar .raised.linked .button,
.toolbar .raised.linked .button:active,
.toolbar .raised.linked .button:insensitive,
.header-bar .button.raised.linked,
.header-bar .button.raised.linked:active,
.header-bar .button.raised.linked:insensitive,
.header-bar .raised.linked .button,
.header-bar .raised.linked .button:active,
.header-bar .raised.linked .button:insensitive {
    border-width: 1px;
    border-radius: 0;
    border-right-width: 0;
    border-left-width: 0;
}

/* leftmost button */
.primary-toolbar .button.raised.linked:first-child,
.primary-toolbar .button.raised.linked:active:first-child,
.primary-toolbar .button.raised.linked:insensitive:first-child,
.primary-toolbar .raised.linked .button:first-child,
.primary-toolbar .raised.linked .button:active:first-child,
.primary-toolbar .raised.linked .button:insensitive:first-child,
.toolbar .button.raised.linked:first-child,
.toolbar .button.raised.linked:active:first-child,
.toolbar .button.raised.linked:insensitive:first-child,
.toolbar .raised.linked .button:first-child,
.toolbar .raised.linked .button:active:first-child,
.toolbar .raised.linked .button:insensitive:first-child,
.header-bar .button.raised.linked:first-child,
.header-bar .button.raised.linked:active:first-child,
.header-bar .button.raised.linked:insensitive:first-child,
.header-bar .raised.linked .button:first-child,
.header-bar .raised.linked .button:active:first-child,
.header-bar .raised.linked .button:insensitive:first-child {
    border-width: 1px;
    border-radius: 6px;
    border-right-width: 0;
    border-bottom-right-radius: 0;
    border-top-right-radius: 0;
}

/* rightmost button */
.primary-toolbar .button.raised.linked:last-child,
.primary-toolbar .button.raised.linked:active:last-child,
.primary-toolbar .button.raised.linked:insensitive:last-child,
.primary-toolbar .raised.linked .button:last-child,
.primary-toolbar .raised.linked .button:active:last-child,
.primary-toolbar .raised.linked .button:insensitive:last-child,
.toolbar .button.raised.linked:last-child,
.toolbar .button.raised.linked:active:last-child,
.toolbar .button.raised.linked:insensitive:last-child,
.toolbar .raised.linked .button:last-child,
.toolbar .raised.linked .button:active:last-child,
.toolbar .raised.linked .button:insensitive:last-child,
.header-bar .button.raised.linked:last-child,
.header-bar .button.raised.linked:active:last-child,
.header-bar .button.raised.linked:insensitive:last-child,
.header-bar .raised.linked .button:last-child,
.header-bar .raised.linked .button:active:last-child,
.header-bar .raised.linked .button:insensitive:last-child {
    border-width: 1px;
    border-radius: 6px;
    border-left-width: 0;
    border-bottom-left-radius: 0;
    border-top-left-radius: 0;
}

/* linked single button */
.primary-toolbar .button.raised.linked:only-child,
.primary-toolbar .button.raised.linked:active:only-child,
.primary-toolbar .button.raised.linked:insensitive:only-child,
.primary-toolbar .raised.linked .button:only-child,
.primary-toolbar .raised.linked .button:active:only-child,
.primary-toolbar .raised.linked .button:insensitive:only-child,
.toolbar .button.raised.linked:only-child,
.toolbar .button.raised.linked:active:only-child,
.toolbar .button.raised.linked:insensitive:only-child,
.toolbar .raised.linked .button:only-child,
.toolbar .raised.linked .button:active:only-child,
.toolbar .raised.linked .button:insensitive:only-child,
.header-bar .button.raised.linked:only-child,
.header-bar .button.raised.linked:active:only-child,
.header-bar .button.raised.linked:insensitive:only-child,
.header-bar .raised.linked .button:only-child,
.header-bar .raised.linked .button:active:only-child,
.header-bar .raised.linked .button:insensitive:only-child {
    border-width: 1px;
    border-radius: 6px;
}
